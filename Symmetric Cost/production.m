function [yT,yN,hT,hN] = production(z,p)
%---------------------------------------------------------------------------------------------------------------------------
% Inputs:
%---------------------------------------------------------------------------------------------------------------------------
% z: productivity shock
% p: vector of parameters
%---------------------------------------------------------------------------------------------------------------------------
% Outputs:
%---------------------------------------------------------------------------------------------------------------------------
% yT and yN: production of tradable and nontradable in default state
% hT and hN; labor of tradable and non tradable sectors in default state
%---------------------------------------------------------------------------------------------------------------------------
% 1. Constant relationships (see FOCs)
%---------------------------------------------------------------------------------------------------------------------------
cN_cT = (p.theta/(1-p.theta))^p.eta;
c_cT = ((1-p.theta)+p.theta*(cN_cT)^((p.eta-1)/p.eta)).^(p.eta/(p.eta-1));
c_cN = ((1-p.theta)*(1/cN_cT)^((p.eta-1)/p.eta)+p.theta).^(p.eta/(p.eta-1));
%---------------------------------------------------------------------------------------------------------------------------    
% 2. Labor per sector:    
%---------------------------------------------------------------------------------------------------------------------------
hT = (p.alphaT*(1-p.theta)*c_cT.^(1/p.eta).*z).^(1/(p.omegaT-p.alphaT));
hN = (p.alphaN*p.theta*c_cN.^(1/p.eta).*z).^(1/(p.omegaN-p.alphaN));
%---------------------------------------------------------------------------------------------------------------------------
% 3. Production per sector: 
%---------------------------------------------------------------------------------------------------------------------------    
yT = z.*hT.^p.alphaT;
yN = z.*hN.^p.alphaN;    
%---------------------------------------------------------------------------------------------------------------------------
end